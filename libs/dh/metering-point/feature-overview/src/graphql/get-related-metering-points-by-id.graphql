fragment RelatedMeteringPoint on RelatedMeteringPointDto {
  internalId
  meteringPointIdentification
  type
  connectionState
  createdDate
  connectionDate
  closedDownDate
  disconnectionDate
}

query GetRelatedMeteringPointsById(
  $meteringPointIdentification: String!
  $environment: String
  $searchMigratedMeteringPoints: Boolean
) {
  relatedMeteringPoints(
    meteringPointId: $meteringPointIdentification
    environment: $environment
    searchMigratedMeteringPoints: $searchMigratedMeteringPoints
  ) {
    parent {
      ...RelatedMeteringPoint
    }
    current {
      ...RelatedMeteringPoint
    }
    relatedMeteringPoints {
      ...RelatedMeteringPoint
    }
    relatedByGsrn {
      ...RelatedMeteringPoint
    }
    historicalMeteringPoints {
      ...RelatedMeteringPoint
    }
    historicalMeteringPointsByGsrn {
      ...RelatedMeteringPoint
    }
  }
}
